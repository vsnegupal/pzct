version=1.1
id=3217318300
title=pzct, the linux server tool
description=Workshop ID: 3217318300
description=Mod ID: pzct
description=
description=Greetings!
description=Meet pzct, which stands for Project Zomboid Console (or Command) Tool
description=pzct greatly simplifies the management of the LINUX PZ server, and most importantly,
description=
description=    pzct automatically restarts the server process if a mod update is required.
description=
description=Below is the manual, following which you can quickly and easily start using pzct
description=    with NO Linux experience.
description=
description=If you are not beginner in Linux, you will probably figure it out yourself.
description=
description=[h1] 0. Preparation [/h1]
description=For a better understanding, run the "echo $HOME" command.
description=You will see a string like "/home/some_name" or "/root" (if you are root).
description=$HOME is the variable, that contains path to the user's home directory.
description=If you see $HOME in a command, you don't have to change it.
description=If you see "/your/path/to/" or "/some/path/to/" or "/path/to" in this text
description=- you HAVE to change it to your own correct value.
description=
description=Let's start. It is assumed that:
description=1. you already have steamcmd installed
description=2. you have already run the command in one line
description=[code]/some/path/to/steamcmd/steamcmd.sh +force_install_dir /your/path/to/pzserver +login anonymous +app_update 380870 validate +quit[/code]
description=3. and that you can start the PZ server by running start-server.sh
description=
description=If you NOT have steamcmd installed and so on, then search the Web for instructions on how to install it.
description=Once steamcmd is installed, you can try running the command from step 2
description=and then start the server by running /your/path/to/pzserver/start-server.sh
description=
description=Also make sure that you already have wget, tar, mc, crond and crontab utilites on your system.
description=To do this, run the following commands:
description="which wget", "which tar", "which mcedit", "which crond", "which crontab"
description=If you see answers like "/usr/bin/wget", "/usr/bin/tar", "/usr/bin/mcedit", "/usr/sbin/crond", "/usr/bin/crontab", you can go further.
description=If the answers are different and probably contain "no wget", "no tar", "no mcedit" and so on - you cannot go further.
description=You need to install the missing programs for your system. Look online for information on how to do this, or contact my Discord server.
description=
description=[h1] 1. Creating directories [/h1]
description=Set up the pzct directory in your home folder and access it:
description=[code]mkdir "$HOME"/pzct
description=mkdir "$HOME"/pzct/pzbackup[/code]
description=You should remain in "$HOME/pzct" during the manual. Run:
description=cd "$HOME"/pzct
description=
description=[h1] 2. Ungzipping two archives [/h1]
description=Locate and copy pzct.tar.gz from mod directory to $HOME/pzct
description=Just run in one line
description=[code]cp -v /your/path/to/pzserver/steamapps/workshop/content/108600/3217318300/mods/pzct/media/pzct*.tar.gz "$HOME"/pzct[/code]
description=
description=Or download pzct:
description=[code]wget https://github.com/vsnegupal/pzct/releases/download/v1.1/pzct-1.1-linux.tar.gz[/code]
description=(visit https://github.com/vsnegupal/pzct to get actual download link if this one is not available)
description=
description=Download rcon:
description=[code]wget https://github.com/gorcon/rcon-cli/releases/download/v0.10.3/rcon-0.10.3-amd64_linux.tar.gz[/code]
description=(visit https://github.com/gorcon/rcon-cli to get actual download link if this one is not available)
description=
description=Extract the archives:
description=[code]tar xvf rcon*.tar.gz --strip-components=1
description=tar xvf pzct*.tar.gz --strip-components=1[/code]
description=
description=Optionally, now you may delete some files:
description=[code]rm -v ABOUT* CHANGELOG.md LICENSE rcon*.tar.gz pzct*.tar.gz[/code]
description=
description=After that, the "$HOME/pzct" directory MUST contain the "pzbackup" directory and the files "pzct.conf", "pzct.sh", "rcon" and "rcon.yaml"
description=
description=[h1] 3. Filling out the configs [/h1]
description=Open the pzct.conf file:
description=mcedit pzct.conf
description=
description=Specify the paths to the pzserver and Zomboid directories.
description=You should type a similar path:
description=[code]pzserver_DIR=/your/path/to/pzserver
description=Zomboid_DIR=/your/path/to/Zomboid[/code]
description=Also you may specify the path to the steamcmd directory in the steamcmd_DIR line if you want to update the server using pzct.
description=Save and close the file pzct.conf
description=
description=Open the rcon.yaml file:
description=mcedit rcon.yaml
description=
description=Fill in the address field in the format "host:port"
description=
description=I assume you will be using pzct the same OS you have the server running.
description=Then the host parameter should be specified as "localhost" or "127.0.0.1"
description=
description=The port parameter is what is written in the [code]/your/path/to/Zomboid/Server/servertest.ini[/code] file in the "RCONPort" parameter. Its default value is 27015.
description=
description=Fill in the password field. It is specified in the same servertest.ini file in the "RCONPassword" parameter.
description=
description=And set "log" empty, or rcon will place log file everywhere you will run commands.
description=
description=Save and close the rcon.yaml
description=You should get a similar result:
description=[code]default:
description=  address: "127.0.0.1:27015"
description=  password: "your_password"
description=  log: ""
description=  type: "" # rcon, telnet, web.
description=  timeout: "10s"[/code]
description=
description=[h1] 4. Creating cron jobs [/h1]
description=Let's assume that your username on the system is "user"
description=Then, if you execute "echo $HOME", you will see "/home/user"
description=Or, if you are root, there will be "/root"
description=
description=Now, to create a job for cron that will check the mod updates every 5 minutes, run:
description=[code](crontab -l ; echo "*/5 * * * * /home/user/pzct/pzct.sh --checkmods 2>&1") | crontab -[/code]
description=I also recommend creating a job that will do a daily backup. Let's say it should run at 10:05AM:
description=[code](crontab -l ; echo "5 10 * * * /home/user/pzct/pzct.sh --restart 2>&1") | crontab -[/code]
description=Or at 4:20PM:
description=[code](crontab -l ; echo "20 16 * * * /home/user/pzct/pzct.sh --restart 2>&1") | crontab -[/code]
description=
description=[h1] 5. Interactive Mode [/h1]
description=pzct can be used in interactive mode. To do this, run:
description=[code]
description=echo "alias pzct=$HOME/pzct/pzct.sh" >> "$HOME"/.bashrc
description=bash
description=[/code]
description=And you can just type "pzct --command" at the console.
description=I recommend starting with "pzct --help"
description=
description=Or without alias, you have to specify which script you're executing each time:
description="$HOME/pzct/pzct.sh --help" for example "/home/user/pzct/pzct.sh --help"
description=
description=[h1] 6. What's next [/h1] 
description=There will probably be a few mod updates, but they will be minor improvements, fixings and testings.
description=There will be no major revisions in the near future.
description=
description=If you want to participate in fixing the script, or added functionality suitable for widespread use, then let's cooperate.
description=I'm also learning how to use Github. I heard it's possible to do it there.
description=
description=Read the "most important section" at the very bottom.
description=
description=[h2] 42. Short Q&A [/h2]
description=Q: Why not use "Udderly Up To Date" or pz-server-tools?
description=A: "Udderly Up To Date" is made in Lua. I don't understand Lua yet. But many people understand shell scripts.
description=pz-server-tools is too complicated. We don't need Python just to restart the process.
description=Q: Add this, rework that.
description=A: Just give me time. If you can help, you may help.
description=Q: My data was corrupted in some way.
description=A: Show the specific command that led to this. There are no rm commands inside the script. Never use any commands people tell you in the comments. You've been warned.
description=Q: I use Windows.
description=A: This mod in NOT for you, it's for Linux only. Also Windows must die.
description=
description=[h2] 99. Subscribe to vsnegupal [/h2]
description=Join my server in Discord:
description=https://discord.gg/Q5efMMuCfQ
description=visit https://github.com/vsnegupal/pzct
description=
description=To see pzct in action, join my PZ server:
description=[code]IP: 5.128.212.85
description=PORT: 16261
description=SERVER PASSWORD: leave the field empty[/code]
description=or go to https://wargm.ru/server/66326/connect
description=
description=The server is running 24/7, if you like the settings then stay to play with me and my friends.
description=If you like pzct then please vote for my server on the link:
description=https://wargm.ru/server/66326/votes
description=
description=If you like the mod, you may also [url=https://www.buymeacoffee.com/vsnegupal]buy me a coffee[/url]
description=
description=[hr]
description=[h1] The most important section: [/h1]
description=[h1] NO MODPACKING [/h1]
description=[h1] NO REUPLOADING [/h1]
description=[h1] private rework is allowed but no further distribution [/h1]
description=[hr]
tags=Misc;Multiplayer
visibility=public
